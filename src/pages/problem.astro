---
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Problem">
    <div id="editor" style="width: 100%; height: 100%; min-height: 50vh;"></div>
</Layout>

<script>
    import * as monaco from "monaco-editor/esm/vs/editor/editor.api";

    // Tell Monaco where to load its web workers
    self.MonacoEnvironment = {
        getWorkerUrl: function (_moduleId, label) {
            if (label === "json") return "/json.worker.js";
            if (label === "css" || label === "scss" || label === "less")
                return "/css.worker.js";
            if (label === "html" || label === "handlebars" || label === "razor")
                return "/html.worker.js";
            if (label === "typescript" || label === "javascript")
                return "/ts.worker.js";
            return "/editor.worker.js";
        },
    };

    window.addEventListener("DOMContentLoaded", () => {
        monaco.editor.create(document.getElementById("editor"), {
            value: "alert('Hello world!');",
            language: "javascript",
            automaticLayout: true,
        });
    });
</script>
